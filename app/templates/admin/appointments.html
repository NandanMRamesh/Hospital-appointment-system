{% extends 'base.html' %}
{% block title %}All Appointments{% endblock %}
{% block content %}
<h2>All Appointments</h2>
<table class="table">
  <thead>
    <tr><th>Date</th><th>Time</th><th>Doctor</th><th>Patient</th><th>Status</th></tr>
  </thead>
  <tbody>
    {% for appt in appointments %}
    <tr>
      <td>{{ appt.date }}</td>
      <td>{{ appt.time }}</td>
      <td>{{ appt.doctor.user.get_full_name }} ({{ appt.doctor.user.username }})</td>
      <td>{{ appt.patient.user.get_full_name }} ({{ appt.patient.user.username }})</td>
      <td>{{ appt.get_status_display }}</td>
    </tr>
    {% empty %}
    <tr><td colspan="5">No appointments found.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}